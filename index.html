<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>Простейший рогалик</title>
<style>
body { font-family:sans-serif; background:#111; color:#eee; text-align:center; }
.screen { display:none; }
canvas { image-rendering:pixelated; border:1px solid #555; background:#222; margin:10px auto; }
#dungeon { position:relative; }
#eventText { white-space:pre-line; margin-top:10px; }
.damage { position:absolute; pointer-events:none; color:#ff0; animation:float 1s ease-out forwards; }
@keyframes float { from{opacity:1; transform:translateY(0);} to{opacity:0; transform:translateY(-20px);} }
.popup { position:fixed; transform:translateX(-50%); background:#222; padding:10px; border:1px solid #555; display:none; font-family:monospace; image-rendering:pixelated; }
.inventory-slot { width:32px; height:32px; border:1px solid #555; display:inline-block; margin:2px; }
</style>
</head>
<body>
<div id="greeting" class="screen">
  <h1>Добро пожаловать!</h1>
  <button id="greetBtn">Продолжить</button>
</div>

<div id="creation" class="screen">
  <canvas id="creationCanvas"></canvas>
  <div id="alloc"></div>
  <p>Свободных очков: <span id="points">4</span></p>
  <input id="nameInput" placeholder="Имя" />
  <button id="createBtn">Создать</button>
</div>

<div id="room" class="screen">
  <canvas id="heroCanvas"></canvas>
  <div id="roomStats"></div>
  <button id="dungeonBtn">Отправиться в подземелье</button>
  <div>
    <button id="inventoryBtn">Инвентарь</button>
    <button id="statsBtn">Статистика</button>
    <button id="charBtn">Окно персонажа</button>
    <button id="shopBtn">Магазин</button>
  </div>
</div>

<div id="dungeon" class="screen">
  <canvas id="battleCanvas"></canvas>
  <div id="eventText"></div>
</div>

<div id="death" class="screen">
  <h2>Персонаж погиб</h2>
  <button id="restartBtn">Начать заново</button>
</div>

<div id="inventoryPopup" class="popup">
  <h3>Инвентарь</h3>
  <div id="inventorySlots"></div>
  <button class="close">X</button>
</div>
<div id="statsPopup" class="popup">
  <h3>Статистика</h3>
  <div id="statsText"></div>
  <button class="close">X</button>
</div>
<div id="charPopup" class="popup">
  <h3>Персонаж</h3>
  <div id="charText"></div>
  <button class="close">X</button>
</div>
<div id="shopPopup" class="popup">
  <h3>Магазин</h3>
  <div id="shopItems"></div>
  <button class="close">X</button>
</div>

<div id="modalPopup" class="popup">
  <div id="modalText"></div>
  <div id="modalActions"></div>
</div>

<script type="module" src="main.js"></script>
</body>
</html>
